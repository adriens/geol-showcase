version: '3'

tasks:
  default:
    cmds:
      - task: build

  build:
    desc: "Build the LaTeX report into a PDF using xelatex"
    cmds:
      - xelatex rapport_postgresql_EN.tex
      - xelatex rapport_postgresql_EN.tex

  clean:
    desc: "Clean up auxiliary files generated by LaTeX and converted images"
    cmds:
      - rm -f rapport_postgresql_EN.aux rapport_postgresql_EN.log rapport_postgresql_EN.out rapport_postgresql_EN.pdf rapport_postgresql_EN-*.jpg

  to-jpeg:
    desc: "Convert the PDF report to JPEG images"
    deps:
      - build
    cmds:
      - pdftoppm -jpeg rapport_postgresql_EN.pdf rapport_postgresql_EN
